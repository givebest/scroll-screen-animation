<!doctype html>
<html lang="zh">
<head>
<meta charset="utf-8" />
<title>scroll screen animation</title>
<meta name="generator" content="" />
<meta name="author" content="" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<style type="text/css">
	#header{
		text-align:center;
	}
	#main .mCon{
		height:800px;
		background-color:#ccc;
		text-align:center;
		font-size:100px;
		transition:all 1s;
		border-top:100px solid #fff;
	}
	#main .cur{
		background-color:blue;
	}
</style>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
<script type="text/javascript">
		$(function(){

			//函数节流
			function throttle(method, scope) {
				clearTimeout(method.tId);
				method.tId= setTimeout(function(){
					method.call(scope);
				}, 100);
			}

			function scrollAnm(){
				var $scrollTop = $(window).scrollTop(),
					$mCon = $(".mCon");
				for(var i=0; i<$mCon.length; i++){
					var $thisTop = $mCon.eq(i).offset().top,
						$thisHeight = $mCon.eq(i).height();
					if($scrollTop >= $thisTop && $scrollTop <= $thisTop+$thisHeight){
						$mCon.eq(i).addClass("cur").siblings().removeClass("cur");
					}
				}
			}
			$(window).scroll(function(){
				throttle(scrollAnm);	
			});
		})



</script>
</head>
<body>
<div id="header">
	<h1>scroll screen animation</h1>
</div>
<div id="main">
	<div class="mCon"><span>1</span></div>
	<div class="mCon"><span>2</span></div>
	<div class="mCon"><span>3</span></div>
	<div class="mCon"><span>4</span></div>
	<div class="mCon"><span>5</span></div>
	<div class="mCon"><span>6</span></div>
	<div class="mCon"><span>7</span></div>
	<div class="mCon"><span>8</span></div>
</div>
</body>
</html>